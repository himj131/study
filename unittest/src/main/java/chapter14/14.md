#14. 프로젝트에서 테스트

#### 빠른 도입
- 테스트 없는 코드는 시간이 지날수록 변경에 취약하고 이해하기 어려워진다.
- 테스트를 최대한 빨리 도입하면 이런 상황을 줄여줄 수 있다.
#### 팀과 같은 편 되기
- 개발자들이 단위테스트에 접근하는 방식은 개인별로 매우 다르다.
- 서로 합의점을 찾아 늘려가는 방향으로 시작
#### 단위 테스트 표준 만들기
- 다음 두가지 질문으로 아주 작게 시작하기
    - 개발자들은 어떤 것이 모든 사람의 시간을 많이 낭비하게 만든다고 느끼나요?
    - 모두가 빠르게 동의할 수 있는 단순한 표준은 무엇인가요?
- 초창기 표준화해야하는 목록
     - 코드를 체크인하기 전에 어떤 테스트를 실행해야 할지 여부
     - 테스트 클래스와 메서드의 이름짓는 방식
     - 햄크레스트 혹은 전통적인 단언 사용 여부
     - AAA 사용 여부
     - 선호하는 목 도구 선택
     - 체크인 테스트를 실행할때 콘솔에 출력을 호용할지 여부
     - 단위 테스트 스위트에서 ㅡ린 테스트를 분명하게 식별하고 막을 방법
 
#### 리뷰로 표준 준수 높이기
- 표준을 준수하는것은 쉽지 않으므로 `단위 테스트와 프로덕션 코드 리뷰` 를 통해 팀원이 코드를 마음대로 작성하지 않도록 한다.
- git pull request, UpSource와 같은 다양한 도구나 플러그인 사용
####짝 프로그래밍을 이용한 리뷰
- 사후 리뷰의 단점
    - 최상의 리뷰는 코드를 깊이 이해한 사람에게서 나오지만 보통 리뷰어들은 코드 세부내용에 익숙하지 않음
    - 교정된 결함의 종류도 표면 수준
    - 심각한 문제를 고치는데 늦음
- 짝 프로그래밍은 두번째 사람의 눈으로 시작부터 좋은 코드를 만들수 있다.

#### 지속적 통합으로 수렴
- 야간 빌드로 통합된 소프트웨어를 테스트 한다면 충돌을 발견하고 해결하기까지 오래걸림
- 지속적인 통합(CI) : 코드를 더 자주 통합하고 그 결과를 매번 검증함
    - 코드 피드백이 빠를 수록 팀 성과는 좋아진다.
    - CI서버는 소스 저장소를 모니터링한다. 새로운 코드가 체크인 되면 CI 서버는 소스 저장소에서 코드를 가져와 빌드를 초기화 한다. 빌드에 문제가 있다면 CI서버는 개발팀에 통지한다.
    - CI서버가 가치를 제공하려면 빌드가 단위 테스트를 함께 수행해야 한다.
    - 개발자들이 습관적으로 체크인 전에 단위테스트를 돌려보게 강제 한다.
    - CI서버에는 허드슨, 젠킨스, 팀시티, 앤트힐 등이 있다.

#### 코드 커버리지
- 보통 코드 결함은 테스트 되지 않은 코드에 있다.
    - 나쁜 의존성이나 테스트 하기 어려운 부분에는 많은 결함이 있기 마련이다
- 커버리지 수치보다는 가치있는 단위 테스트를 작성하기 위해 노력해야 한다.
- 코드 커버리지 숫자는 그 자체로 큰 의미는 없지만 코드 커버리지의 추세는 중요하다. 시간이 지나면서 커버리지 퍼센트는 높아져야 한다. 
 
#### 앞으로
- 자신이 만든 코드에 테스트를 작성하고, 점점 좋아지도록 주의깊게 테스트 코드를 계속 작성하자
- 지속적으로 단위 테스트에 대한 지식을 늘려가기
- 다른 단위 테스터(혹은 TDD실천가)들이 벗삼는 다른 것들 시도해보기 