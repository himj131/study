# 7.경계조건 : CORRECT 기억법
- [C]omformance(준수) : 값이 기대한 양식을 준수하고 있는가?
- [O]rdering(순서) : 값의 집합이 적절하게 정렬되거나 정렬되지 않았나?
- [R]ange(범위) : 이성적인 최솟값과 최댓값은 안에 있는가?
- [R]eference(참조) : 코드 자체에서 통제할 수 없는 어떤 외부 참조를 포함하고 있는가?
- [E]xistence(존재) : 값이 존재하는가(널이 아니거나, 0이 아니거나, 집합에 존재 하는가 등)?
- [C]ardinality(기수) : 정확히 충분한 값들이 있는가?
- [T]ime(절대적 혹은 상대적 시간) : 모든 것이 순서대로 일어나는가? 정확한 시간에? 정시에?  

## [C]ORRECT : [C]onformance(준수)
- 많은 데이터 요소는 특정 양식을 따른다.
- 단순한 규칙성  문자열 : 이메일 주소, 전화번호, 계좌번호 등 양식
- 복잡한 구조적인 데이터 : 테스트 케이스를 조합하면 그 수가 폭발적으로 증가한다. 이 경우 기대하는 구조에 입력 데이터가 맞는지 확인하는 방법은
 브레인 스토밍을 통해 더욱 더 잘 할 수 있다.

## C[O]RRECT : [O]rdering(순서)
- 데이터 순서나, 컬렉션에 담긴 데이터의 위치는 코드가 잘못될 수 있는 조건이 될 수 있다.

## CO[R]RECT : [R]ange(범위)
- 자바의 기본형은 필요한것보다 훨씬 많은 용량을 갖는다.(기본형 중독(primitive obsession)). 
- 자바와 같은 객체 지향 언어에서는 값의 범위를 제약하는 로직을 캡슐화 할 수 있다. 
- 유효하지 않는 범위를 적용할때 예외를 던져 테스트 할 수 있다.

#### 불변성을 검사하는 사용자 정의 매처 생성
- 사용자 정의 매처를 만들어 테스트 코드에 적용 시킬수 있다.
    - org.hamcrest.TupeSafeMatcher 클래스를 상속하여 매칭 타입 지정
    - matchesSafely() 메서드 오버라이드
    - describeTo()에는 단언 실패시 제공할 메세지 작
#### 불변 메서드를 내장하여 범위 테스트
- 희소배열(sparseArray)의 checkInvariants()메서드는 

#### 인덱스를 다룰때 고려해야할 테스트 시나리오
- 시작과 마지막 인덱스가 같으면 안된다
- 시작이 마지막보다 크면 안된다
- 인덱스는 음수가 아니어야 한다
- 인덱스가 허용된 것보다 크면 안된다
- 개수가 실제 항목 개수와 맞아야 한다

## COR[R]ECT : [R]eference(참조)
- 범위를 넘어서는 것을 참조하고 있지 않은지
- 외부 의존성은 무엇인지
- 특정 상태에 있는 객체를 의존하고 있는지 여부
- 반드시 존재해야 하는 그 외 다른 조건들

> 테스트할 상황이나 가정에 대한 참조 사항들을 잘 고려히여 사전조건이나, 사후 조건들을 명시해준다.

## CORR[E]CT : [E]xistence(존재)
- 스스로에게 "주어진 값이 존재하나?" 라고 물어봄으로써 많은 잠재적인 결함을 발견 할 수 있다.
- 호출된 메서드가 null을 반환하거나, 기대하는 파일이 없거나, 네트워크가 다운되었을때 어떤일이 일어나는지 확인하는 테스트를 작성하라


## CORRE[C]T : [C]ardinality(기수)
- **0-1-n 법칙** : 기수를 다루는 테스트에서는 0,1,n 이라는 경계조건에만 집중하고, n은 비즈니스 요구 사항에 따라 바꿔가며(상수 사용) 테스트 한다.

## CORREC[T] : [T]ime(시간)
- 메서드들의 호출 순서가 맞지 않을때 어떤 일이 일어날지 생각해보고, 대안 순서를 시도하기
- 상대적인 시간은 타임아웃문제를 포함할 수도 있다.
- 나를 대신해서 어떤 하위 라이브러리가 시간에 관한 문제를 정확하게 처리할것이라고 가정하지 말자. -> 시스템 시계에 의존하는 테스트를 작성하자 
- 동시성과 동기화에 관한 주제는 스스로 물어보는 것에서부터 시작하자 
    - 동시에 같은 객체를 다수의 스레드가 접근한다면 어떤 일이 일어날까?
    - 어떤 전역/인스턴스 수준의 데이터나 메서드에 동기화를 해야하나?
    - 파일 혹은 하드웨어에 외적인 접근은 어떻게 처리 하나?
- 클라이언트에 동시성 요구 사항이 있다면 다수의 클라이언트 스레드를 보여주는 테스트 작성이 필요하다.
    
# 마치며..
테스트에서는 모든 경계를 알 필요가 있다. 경계 조건들은 고약하고 작은 결함들을 자주 만들어 내는 곳이다.

 
